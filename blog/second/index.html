<!DOCTYPE html>
<html lang="en">

<head>
    <title>NixOS Configuration with Flakes - jd</title>
    <link rel="stylesheet" href="https://jdisaacs.com/style.css">
    <link rel="stylesheet" href="https://jdisaacs.com/color/blue.css">

    <link rel="stylesheet" href="https://jdisaacs.com/font-jbm.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8" />
    <title>Jordan Isaacs' Blog</title>
</head>


<body class="">
    <div class="container center">
<header class="header">
    <div class="header-inner">
        <div class="header-logo">
            <a href="https:&#x2F;&#x2F;jdisaacs.com">
    <div class="logo">
        jd
    </div>
</a>
        </div>
        <div class="menu-trigger" tabindex="0">
            <div class="menu-trigger-button">menu</div>
        </div>
    </div>
    
    <nav class="menu-desktop">
            <ul class="menu-inner menu-inner-desktop">
                
    
        
        
        
        
            <li><a href="https://jdisaacs.com/blog">
        blog
    </a></li><li><a href="https://jdisaacs.com/about">
        about
    </a></li><li><a href="https://jdisaacs.com/projects">
        projects
    </a></li><li><a href="https:&#x2F;&#x2F;github.com&#x2F;jordanisaacs" rel="noopener noreferrer nofollow" target="_blank">
        github </a></li></ul>

        </nav>
        <nav class="menu-mobile">
            <ul class="menu-inner menu-inner-mobile hidden">
                
    
        
        
        
        
            <li><a href="https://jdisaacs.com/blog">
        blog
    </a></li><li><a href="https://jdisaacs.com/about">
        about
    </a></li><li><a href="https://jdisaacs.com/projects">
        projects
    </a></li><li><a href="https:&#x2F;&#x2F;github.com&#x2F;jordanisaacs" rel="noopener noreferrer nofollow" target="_blank">
        github </a></li>
            </ul>
        </nav>
    
</header>
<div class="content"><article class="post">
        
        <header>
            <h1 class="post-title">
                
                    <a href="https:&#x2F;&#x2F;jdisaacs.com&#x2F;blog&#x2F;second&#x2F;">NixOS Configuration with Flakes</a>
                
            </h1>
            
<div class="post-meta meta-page">
        
    <span class="post-date">2021.09.06</span>

        
        :: <span class="post-readtime">
            2 min read
        </span>
        

        
    
    ::
    <strong>^<a href="https://jdisaacs.com/series/nixos-desktop/">NixOS Desktop</a></strong>
    
    
    ::
    #<a href="https://jdisaacs.com/tags/nixos/">NixOS</a>
    #<a href="https://jdisaacs.com/tags/nix/">Nix</a>
    #<a href="https://jdisaacs.com/tags/x11/">X11</a>
    #<a href="https://jdisaacs.com/tags/linux/">Linux</a>
    
    
    </div>

            
        </header>
        
        <div class="post-content">
            <h1 id="my-flakes-philosophy">My Flakes Philosophy<a class="zola-anchor" href="#my-flakes-philosophy" aria-label="Anchor link for: my-flakes-philosophy">§</a>
</h1>
<p>In this blog post I will overview how to setup flakes with NixOS and home-manager and my approach to configuring. While flakes are <em>technically</em> unstable I have only ever used NixOS with flakes and have not had any issues with them. NixOS and home-manager have a wealth of options but most of them can be grouped together into sensible categories such as <em>sound</em>, <em>display</em>, etc. Therefore I leverage the <a rel="noopener nofollow noreferrer" target="_blank" href="https://nixos.wiki/wiki/Module">Nix module system</a> to create a high level set of options that makes setting up new systems and profiles easier.</p>
<span id="continue-reading"></span>
<p>I have to thank Wil Taylor for his amazing NixOS series (see below) and his <a rel="noopener nofollow noreferrer" target="_blank" href="https://github.com/wiltaylor/dotfiles">dotfiles</a> repository for providing a baseline/inspiration. My configuration started off as a copy of his and has since evolved but much remains similar. He uses a <em>role</em> system which lets you choose what configuration files to import while I prefer to use the module system which provides more flexibility. This flexibility will show its strength in a future post where I show setting up NixOS without a display manager.</p>
<h1 id="setting-up-nixos">Setting up NixOS<a class="zola-anchor" href="#setting-up-nixos" aria-label="Anchor link for: setting-up-nixos">§</a>
</h1>
<p>There has been much written on setting up NixOS so if you don't have it installed check out these resources:</p>
<ul>
<li><a rel="noopener nofollow noreferrer" target="_blank" href="https://grahamc.com/blog/nixos-on-dell-9560">Graham Christensen Dell Setup</a>
<ul>
<li>Setting up partitions and encryption (luks)</li>
</ul>
</li>
<li><a rel="noopener nofollow noreferrer" target="_blank" href="https://www.youtube.com/watch?v=QKoQ1gKJY5A&amp;list=PL-saUBvIJzOkjAw_vOac75v-x6EzNzZq-">Wil Taylor's NixOS series</a>
<ul>
<li>Overview of how to install NixOS and basic flake introduction. Also overviews how to set up an initial NixOS flake configuration. I used the series to get started with NixOS/Flakes and highly recommend watching the full series.</li>
</ul>
</li>
</ul>
<h1 id="introduction-to-flakes">Introduction to Flakes<a class="zola-anchor" href="#introduction-to-flakes" aria-label="Anchor link for: introduction-to-flakes">§</a>
</h1>
<p>As with NixOS setup there are some good writeups on how flakes work. My go-to when I need to brush up is <a rel="noopener nofollow noreferrer" target="_blank" href="https://serokell.io/blog/practical-nix-flakes">Practical Nix Flakes</a>. Also Wil Taylor's series provides a nice overview as well.</p>

        </div>

        

        

        
    </article></div>

<footer class="footer">
                <div class="footer__inner">
  <div class="copyright">
      <span>
          © 2021 Jordan Isaacs ::
          Powered by
          <a href="https:&#x2F;&#x2F;getzola.org&#x2F;" rel="noopener noreferrer nofollow" target="_blank">
        Zola</a>
      </span>
      <span>
          Like this site? see <a href="https:&#x2F;&#x2F;github.com&#x2F;jordanisaacs&#x2F;jdisaacs.com" rel="noopener noreferrer nofollow" target="_blank">
        source code here</a>
      </span>
  </div>

    <script type="text/javascript" src="https://jdisaacs.com/js/main.js"></script>
</div>
            </footer></div>
</body>

</html>
